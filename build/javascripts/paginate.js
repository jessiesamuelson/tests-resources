function Pagination(t,i){var e=this;return this.page=i.page,this.numPages=i.num_pages,this.perPage=i.per_page,this.numVisible=10,this.$el=$(t),this.$currentPage,this.$targetPage,this.currentNum,this.targetNum,this.targetIndex,this.lastIndex=this.numPages-1,this.init=function(){this.buildPagination(),this.initialSetup(),this.numPages>this.numVisible&&this.initialClip()},this.buildPagination=function(){for(var t=_.range(1,this.numPages+1),i=0;i<t.length;i++)t[i]=$("<a>").html(t[i]).addClass("page");var e=$("<a>").html('Next <i class="fa fa-angle-double-right"></i>').attr("data","next").addClass("next"),s=$("<a>").html('<i class="fa fa-angle-double-left"></i>&nbsp;Previous').attr("data","prev").addClass("prev");t.unshift(s),t.push(e),this.$el.html(t)},this.initialSetup=function(){setTimeout(function(){e.$el.find(".page").first().addClass("current"),e.$el.find(".prev").addClass("disabled")},300)},this.initialClip=function(){var t=$("<a>").html(" ... ").addClass("clip").addClass("after"),i=$("<a>").html(" ... ").addClass("clip").addClass("before");if(t.insertBefore(this.$el.find(".page").last()),i.insertAfter(this.$el.find(".page").first()).hide(),this.numPages>this.numVisible)for(var e=this.numVisible-1;e<this.lastIndex;e++)$(this.$el.find(".page")[e]).hide()},this.change=function(t){if(-1===t.attr("class").indexOf("disabled")){if(this.loading(),this.$currentPage=this.$el.find(".current"),this.currentNum=parseInt(this.$currentPage.html()),this.$targetPage=t,"prev"===this.$targetPage.attr("data")){if(1===this.currentNum)return;this.targetNum=this.currentNum-1,this.$targetPage=$(this.$el.find(".page")[this.targetNum-1])}else if("next"===this.$targetPage.attr("data")){if(this.currentNum===this.numPages)return;this.targetNum=this.currentNum+1,this.$targetPage=$(this.$el.find(".page")[this.targetNum-1])}else this.targetNum=parseInt(this.$targetPage.html());this.targetIndex=this.$el.find(".page").index(this.$targetPage),this.transition(),this.numPages>this.numVisible&&this.clip()}return this.targetNum},this.transition=function(){this.$currentPage.removeClass("current"),this.$targetPage.css({"font-style":"italic"}),setTimeout(function(){e.$targetPage.addClass("current").css({"font-style":""})},500),this.$el.find(".disabled").removeClass("disabled"),this.targetNum===this.numPages?this.$el.find(".next").addClass("disabled"):1===this.targetNum&&this.$el.find(".prev").addClass("disabled")},this.clip=function(){for(var t=1;5>t;t++)$(this.$el.find(".page")[this.targetIndex+t]).show(),$(this.$el.find(".page")[this.targetIndex-t]).show();if(this.targetIndex+4>=this.numPages)this.$el.find(".clip.after").hide();else{this.$el.find(".clip.after").show();for(var i=this.lastIndex-(this.targetIndex+4)-1,e=0;i>e;e++)$(this.$el.find(".page")[this.lastIndex-e-1]).hide()}if(this.targetIndex-4<=0)this.$el.find(".clip.before").hide();else{this.$el.find(".clip.before").show();for(var i=this.targetIndex-4-1,e=0;i>e;e++)$(this.$el.find(".page")[e+1]).hide()}},this.loading=function(){var t=this.$el.parent(),i=t.find(".channel-list"),e=t.find(".loader");e.addClass("active"),i.addClass("hidden")},this.doneLoading=function(){var t=this.$el.parent(),i=t.find(".channel-list"),e=t.find(".loader");e.removeClass("active"),i.removeClass("hidden")},this.numPages>1?this.init():this.$el.empty(),this}